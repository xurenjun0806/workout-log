package rest

import (
	"github.com/go-playground/validator/v10"
)

type ResponseError struct {
	Message string `json:"message"`
}

func IsRequestValid[T any](m *T) (bool, error) {
	validate := validator.New()
	err := validate.Struct(m)
	if err != nil {
		return false, err
	}
	return true, nil
}

func Map[T1, T2 any](s []T1, f func(T1) T2) []T2 {
	r := make([]T2, len(s))
	for i, v := range s {
		r[i] = f(v)
	}
	return r
}
